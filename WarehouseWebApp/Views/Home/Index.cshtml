@{
    ViewData["Title"] = "Warehouse Dashboard";
}

<div class="text-center">
    <h1 class="display-4">Welcome to WarehouseWebApp!</h1>
</div>

@if (TempData["SuccessMessage"] != null)
{
    <div class="alert alert-success alert-dismissible fade show" role="alert">
        <strong>Success!</strong> @TempData["SuccessMessage"]
        <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
    </div>
}

@if (TempData["ErrorMessage"] != null)
{
    <div class="alert alert-danger alert-dismissible fade show" role="alert">
        <strong>Authorization Error:</strong> @TempData["ErrorMessage"]
        <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
    </div>
}

<div class="row mt-5">
    <div class="col-md-6 offset-md-3">
        <div class="card shadow-sm">
            <div class="card-header bg-primary text-white">
                <h3 class="my-0">User Status</h3>
            </div>
            <div class="card-body">
                @if (User?.Identity?.IsAuthenticated == true)
                {
                    <p>You are currently logged in as:</p>
                    <table class="table table-sm table-borderless">
                        <tr>
                            <th>User Name:</th>
                            <td>@User.Identity.Name</td>
                            </tr>
                        <tr>
                            <th>Role:</th>
                            <td>
                                <strong>@User.FindFirst(System.Security.Claims.ClaimTypes.Role)?.Value</strong>
                            </td>
                        </tr>
                    </table>

                    <p class="mt-3">Use the navigation bar above to manage inventory or access employee lists.</p>
                }
                else
                {
                    <p>You are currently not logged in. Please use the links below or the navigation bar to proceed:</p>
                    <a asp-controller="Auth" asp-action="Login" class="btn btn-primary me-2">Employee Log In</a>
                    <a asp-controller="Auth" asp-action="Skip" class="btn btn-warning">Guest Access</a>
                }
            </div>
        </div>
    </div>
</div>

<div class="text-center mt-5">
    <hr />
    <h2>Quick Access</h2>
    <p class="lead">View your inventory data instantly.</p>
    <a asp-controller="Inventory" asp-action="Index" class="btn btn-lg btn-success">View Inventory List</a>
</div>